(function(t){function e(e){for(var r,i,s=e[0],u=e[1],c=e[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"1fa7":function(t,e,n){"use strict";var r=n("e434"),a=n.n(r);a.a},4601:function(t,e,n){"use strict";var r=n("8acc"),a=n.n(r);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("tip-tap")],1)},o=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor"},[n("editor-menu-bar",{staticClass:"menubar",attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.commands;return[n("div",{staticClass:"menubar"},[n("button",{staticClass:"menubar__button",on:{click:t.toggleUploadPrompt}},[t._v(" Insert Image ")]),t.showUploadPrompt?n("upload-prompt",{on:{uploaded:function(e){return t.insertFile(e,r.imageUpload)}}}):t._e()],1)]}}])}),n("editor-content",{staticClass:"editor__content",attrs:{editor:t.editor}})],1)},s=[],u=n("cd42"),c=n("f23d"),l=(n("4de4"),n("a630"),n("d81d"),n("3ca3"),n("3835")),p=n("d4ec"),d=n("bee2"),f=n("2caf"),m=n("262e"),g=n("a9de"),h=(n("4160"),n("159b"),n("96cf"),n("1da1"));function v(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=n.state,o=a.selection,i=a.schema,s="drop"===t.type?n.posAtCoords({left:t.clientX,top:t.clientY}).pos:o.$cursor?o.$cursor.pos:o.$to.pos;e.forEach(function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(a){var o,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===r){e.next=12;break}return console.log("drop?",t.type),e.t0=i.nodes.imageUpload,e.next=5,r(a);case 5:e.t1=e.sent,e.t2={src:e.t1},o=e.t0.create.call(e.t0,e.t2),u=n.state.tr.insert(s,o),n.dispatch(u),e.next=15;break;case 12:c=new FileReader,c.onload=function(t){var e=i.nodes.imageUpload.create({src:t.target.result}),r=n.state.tr.insert(s,e);n.dispatch(r)},c.readAsDataURL(a);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}var b=/!\[(.+|:?)\]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,y=function(t){Object(m["a"])(n,t);var e=Object(f["a"])(n);function n(t,r){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(p["a"])(this,n),a=e.call(this,t,r),a.uploadFunc=o,a}return Object(d["a"])(n,[{key:"commands",value:function(t){var e=t.type;return function(t){return function(n,r){var a=n.selection,o=a.$cursor?a.$cursor.pos:a.$to.pos,i=e.create(t),s=n.tr.insert(o,i);r(s)}}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(g["g"])(b,e,(function(t){var e=Object(l["a"])(t,4),n=e[1],r=e[2],a=e[3];return{src:r,alt:n,title:a}}))]}},{key:"name",get:function(){return"imageUpload"}},{key:"schema",get:function(){return{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM:function(t){return["img",t.attrs]}}}},{key:"plugins",get:function(){var t=this.uploadFunc;return[new u["g"]({props:{handleDOMEvents:{paste:function(e,n){var r=(n.clipboardData||n.originalEvent.clipboardData).items;if(r=Array.from(r).filter((function(t){return/image/i.test(t.type)})).map((function(t){return t.getAsFile()})),0!==r.length)return n.preventDefault(),v(n,r,e,t),!1}}}})]}}]),n}(u["f"]),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("h3",[t._v("Upload image")]),n("input",{attrs:{type:"file"},on:{change:t.handleFiles}}),t.isUploading?n("progressbar"):t._e()],1)},O=[];n("d3b7");function _(t){var e=new FileReader;return new Promise((function(n,r){e.onload=function(){return n(e.result)},e.onerror=function(){return r(e.error)},setTimeout((function(){return e.readAsDataURL(t)}),1500)}))}var j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"meter"},[n("span",{ref:"bar",style:"max-width: "+t.width+"%;"})])},U=[],P=(n("a9e3"),{name:"ProgressBar",props:{width:{type:Number,required:!1,default:function(){return 80}}},mounted:function(){this.$refs.bar.classList.add("progress")}}),x=P,k=(n("adff"),n("2877")),$=Object(k["a"])(x,j,U,!1,null,"74d1363f",null),A=$.exports,C={name:"UploadPrompt",components:{Progressbar:A},data:function(){return{isUploading:!1}},methods:{handleFiles:function(t){var e=this;this.isUploading=!0;var n=t.target.files[0];_(n).then((function(t){e.$emit("uploaded",t),e.isUploading=!1}))}}},E=C,F=(n("1fa7"),Object(k["a"])(E,w,O,!1,null,"36698666",null)),D=F.exports,M={name:"HelloWorld",components:{EditorContent:u["b"],EditorMenuBar:u["c"],UploadPrompt:D},data:function(){return{editor:new u["a"]({extensions:[new c["c"],new c["d"]({levels:[1,2,3]}),new y(null,null,_),new c["a"],new c["b"],new c["e"]],content:"\n          <h2>\n            Images\n          </h2>\n          <p>\n            This is a basic example of inserting images with a possibility to upload images asynchronously to a remote server.\n            Try pasting an image or insert by clicking the button above.\n          </p>\n        "}),showUploadPrompt:!1}},methods:{toggleUploadPrompt:function(){this.showUploadPrompt=!this.showUploadPrompt},insertFile:function(t,e){e({src:t}),this.toggleUploadPrompt()}}},S=M,T=(n("4601"),Object(k["a"])(S,i,s,!1,null,"db581132",null)),R=T.exports,I={name:"App",components:{TipTap:R}},L=I,B=(n("034f"),Object(k["a"])(L,a,o,!1,null,null,null)),J=B.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(J)}}).$mount("#app")},6173:function(t,e,n){},"85ec":function(t,e,n){},"8acc":function(t,e,n){},adff:function(t,e,n){"use strict";var r=n("6173"),a=n.n(r);a.a},e434:function(t,e,n){}});
//# sourceMappingURL=app.42889bd3.js.map